<div class="font-thin flex flex-col justify-center items-center lg:p-10 p-3 text-slate-300 gap-5 w-full">
  <div class="w-5/6 lg:w-1/2 lg:max-w-[500px] flex flex-col gap-10">

    <!-- Loading State -->
    @if (loading()) {
      <div class="text-center py-20">
        <div class="text-xl">Loading content...</div>
      </div>
    }

    <!-- Error State -->
    @if (error()) {
      <div class="text-center py-20 text-red-400">
        {{ error() }}
      </div>
    }

    <!-- Content -->
    @if (!loading() && !error()) {

      @if (isHomePage()) {
        <!-- Header Section (Only for Home Page) -->
        <div class="flex flex-col lg:flex-row gap-10 w-full items-center justify-center">
          <div class="text-4xl font-bold flex flex-col items-center justify-center gap-2">
            <span class="text-center">
              {{ getTitleContent() || 'Hey, I\'m Raffaello Fornasiere' }}
            </span>
            <div class="text-2xl font-bold">
              {{ getSubtitleContent() || 'Software Engineer | AI/ML' }}
            </div>
            <div class="flex gap-4 items-center">
              <a href="https://github.com/RaffaelloFornasiere">
                <img src="https://s.magecdn.com/social/mw-github.svg" width="32" alt="">
              </a>
              <a href="https://www.linkedin.com/in/raffaello-fornasiere">
                <img src="https://s.magecdn.com/social/mw-linkedin.svg" width="32" alt="">
              </a>
              <a href="mailto:fornasiere.raffaello@gmail.com">
                <img src="https://s.magecdn.com/social/mw-mail.svg" width="32" alt="">
              </a>
            </div>
            <a class="text-sm font-light" href="/api/resume" target="_blank">resume</a>
          </div>
        </div>

        <!-- Use Generic Page Component for dynamic content sections -->
        <app-generic-page [sections]="getContentSections()"></app-generic-page>

        <!-- Fallback if no Google Doc content for Home -->
        @if (!documentContent()) {
          <div class="drop-shadow-xl">
            <div class="font-bold">About Me</div>
            I'm Raffaello, a software engineer working primarily with AI and language models...
            <!-- (Truncated for brevity, keeping original fallback text here if desired) -->
          </div>
        }

        <!-- Technologies Section (Only for Home Page) -->
<!--        <div class="drop-shadow-xl flex flex-col gap-2 w-full">-->
<!--          <div class="font-bold">Technologies I'm confident with</div>-->
<!--          <code class="flex flex-wrap text-sm gap-3">-->
<!--            @for (skill of skills; track skill.name) {-->
<!--              <div class="flex gap-3 w-36">-->
<!--                >-->
<!--                <div class=" justify-between">-->
<!--                  <span>{{ skill.name }}</span>-->
<!--                  <div class="">-->
<!--                    @for (level of Array(skill.level).keys(); track $index) {-->
<!--                      <span class="text-green-600">&#x25AE;</span>-->
<!--                    }-->
<!--                    @for (level of Array(7 - skill.level).keys(); track $index) {-->
<!--                      <span>&#x25AF;</span>-->
<!--                    }-->
<!--                  </div>-->
<!--                </div>-->
<!--              </div>-->
<!--            }-->
<!--          </code>-->
<!--        </div>-->

<!--        <div class="drop-shadow-xl">-->
<!--          <div class="font-bold">Technologies I'm Learning</div>-->
<!--          <code class="flex flex-wrap text-sm gap-3">-->
<!--            @for (skill of learning; track skill.name) {-->
<!--              <div class="flex gap-3 w-36">-->
<!--                >-->
<!--                <div class=" justify-between">-->
<!--                  <span>{{ skill.name }}</span>-->
<!--                  <div class="">-->
<!--                    @for (level of Array(skill.level).keys(); track $index) {-->
<!--                      <span class="text-green-600">&#x25AE;</span>-->
<!--                    }-->
<!--                    @for (level of Array(7 - skill.level).keys(); track $index) {-->
<!--                      <span>&#x25AF;</span>-->
<!--                    }-->
<!--                  </div>-->
<!--                </div>-->
<!--              </div>-->
<!--            }-->
<!--          </code>-->
<!--        </div>-->
      } @else {
        <!-- GENERIC PAGE LAYOUT (For all other tabs) -->
        <app-generic-page [sections]="getContentSections()"></app-generic-page>
      }
    }

  </div>
</div>
